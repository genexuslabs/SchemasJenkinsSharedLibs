{
    
    "$schema": "http://json-schema.org/draft-07/schema#",
      "description": "<DockerImage>.yaml schema",
      "title": "DockerImage",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "DeploymentUnit name"
        },
        "deployType":{
          "type":"string",
          "enum": ["AWS-Serverless-Service", "DockerImage", "Angular-Service"],
          "description": ""
        },
        "onPrePackage":{
          "type":["string","null"],
          "enum": [null],
          "description": "Relative file path to <extensibility>.groovy from git repo root with method onPreDeploy"
        },
        
        "customSyncPath":{
            "type":["string","null"],
            "enum": [null],
            "description": "Reference from the targetPath to the stashed directory"
            
        },
        
    
        "customGXDProj":{
            "type":["string","null"],
            "enum": [null],
            "description": "Reference to a custom gxdproj file"
        },
    
        "applicationServer":{
            "type":"string",
            "description": "Data for GeneXus"
        },
    
        "includeGAM":{
            "type":"boolean",
            "description": ""
          },
          
          "includeGXFlow":{
            "type":"boolean",
            "description": ""
          },
    
          "appUpdate":{
            "type":"string",
            "default":"NONE",
            "enum": ["NONE", "Minor Change", "Major Change"],
            "description": ""
          },
    
          "enableKBN":{
            "type":"boolean",
            "description": ""
          },
        
        
        "customDockerFile":{
          "type":["string","null"],
          "enum": ["no-generate", null],
          "description": "You can use the one generated by GeneXus, reference one already created, or by placing no-generate to do a local deploy"
        },
    
        "maintainers":{
          "type":"string",
          "description": "Data for GeneXus  Format: Email1,Email2,..."
        },
    
        "dockerBaseImage":{
          "type":"string",
          "description": "Base image for environment"
        },
    
        "customImageName":{
          "type":["string","null"],
          "enum": [null],
          "description": "Custom name for the DockerImage"
        },
        "onPostPackage":{
            "type":["string","null"],
            "enum": [null],
            "description": "Relative file path to <extensibility>.groovy from git repo root with method onPostPackage"
          },
    
        "publishType":{
            "type":"array",
            "description": "",
            "items":{
             "type":"object",
             "properties": {
              
              "name":{
                "type":"string",
                "description": ""
              },
              
              "nexusSecureUrl":{
                "type":"string",
                "default": "https://integration.registrynexus.genexus.com",
                "description": ""
              },
              "credentialsId":{
                "type":"string",
                "description": ""
              },
              "deployments":{
                "type":"array",
                "description": "",
                "items":{
                 "type":"object",
                 "properties": {
                   
                   "id":{
                     "uniqueItems": true,
                     "type":"string",
                     "description": "Uniqe"
                   },
    
                   "containerNode":{
                     "type":"string",
                     "description": ""
                    },
    
                    "port":{
                      "type":"string",
                      "description": ""
                    },
    
                   "url":{
                     "type":"string",
                     "description": ""
                   },
                   
                   "automaticDeployment":{
                    "type":"boolean",
                    "description": ""
                  },
                  "envs":{
                    "type":"array",
                    "description": "",
                    "items":{
                     "type":"object",
                     "properties": {
    
                      "name":{
                        "type":"string",
                        "description": ""
                      },
                      "value":{
                        "type":"string",
                        "description": ""
                      }
    
    
                     },
                     "required": ["name","value"],
                     "minItems": 1
                    }
                 }
                },
                "required": ["id","containerNode","port","deployments","url","automaticDeployment","envs"],
                "minItems": 1
              }
    
            }
    
             },
             "required": ["name","nexusSecureUrl","credentialsId","deployments"],
             "minItems": 1
            }
          },
    
        "onPostDeploy":{
          "type":["string","null"],
          "enum": [null],
          "description": "Reference to extensibility file"
        }
    
    
        
    
    
        
    
    },
    "required": ["deployType","onPrePackage","customSyncPath","customGXDProj","applicationServer","includeGAM","includeGXFlow","appUpdate","enableKBN","customDockerFile","maintainers","dockerBaseImage","customImageName","onPostPackage","publishType","onPostDeploy"]
    }