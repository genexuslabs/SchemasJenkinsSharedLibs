{   
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "Angular-Service.yaml schema",
  "title": "DU Angular-Service",
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "DeploymentUnit name"
    },
    "deployType":{
      "type":"string",
      "default": "Angular-Service",
      "description": ""
    },
    "onPrePackage":{
      "type":["string","null"],
      "description": "Relative file path to <extensibility>.groovy from git repo root with method onPrePackage"
    },
    "customSyncPath":{
      "type":["string","null"],
      "description": "Reference from the targetPath to the stashed directory"
    },
    "customGXDProj":{
      "type":["string","null"],
      "description": "Reference to a custom gxdproj file"
    },
    "applicationServer":{
      "type":"string",
      "description": "Data for GeneXus"
    },
    "includeGAM":{
      "type":"boolean",
      "description": ""
    },
    "includeGXFlow":{
      "type":"boolean",
      "description": ""
    },
    "appUpdate":{
      "type":"string",
      "enum": ["NONE", "Minor Change", "Major Change"],
      "description": ""
    },
    "enableKBN":{
      "type":"boolean",
      "description": ""
    },
    "customDockerFile":{
      "type":["string","null"],
      "enum": ["no-generate", null],
      "description": "You can use the one generated by GeneXus, reference one already created, or by placing no-generate to do a local deploy"
    },
    "urlSubdirectory":{
      "type":["string","null"],
      "description": ""
    },
    "maintainers":{
      "type":"string",
      "description": "Data for GeneXus  Format: Email1,Email2,..."
    },
    "dockerBaseImage":{
      "type":"string",
      "description": "Base image for environment"
    },
    "customImageName":{
      "type":["string","null"],
      "description": "Custom name for the DockerImage"
    },
    "onPostPackage":{
      "type":["string","null"],
      "description": "Relative file path to <extensibility>.groovy from git repo root with method onPostPackage"
    },
    "onPostSync":{
      "type":["string","null"],
      "description": "Relative file path to <extensibility>.groovy from git repo root with method onPostSync"
    },
    "publishType":{
      "type":["array", "null"],
      "description": "",
      "items":{
        "type":"object",
        "properties": {
          "name":{
            "type":"string",
            "description": ""
          },
          "nexusSecureUrl":{
            "type":"string",
            "description": ""
          },
          "credentialsId":{
            "type":"string",
            "description": ""
          },
          "deployments":{
            "type":"array",
            "description": "",
            "items":{
              "type":"object",
              "properties": {
                "id":{
                  "uniqueItems": true,
                  "type":"string",
                  "description": "Uniqe"
                },
                "containerNode":{
                  "type":"string",
                  "description": ""
                },
                "port":{
                  "type":"string",
                  "description": ""
                },
                "url":{
                  "type":"string",
                  "description": ""
                },
                "automaticDeployment":{
                "type":"boolean",
                "description": ""
                },
                "databaseId":{
                  "type":"string",
                  "description": ""
                },
                "gam": {
                  "description": "",
                  "type": ["object","null"],
                  "properties": {
                    "databaseId": {
                      "type": "string"
                    },
                    "connectionKey": {
                      "type": "string"
                    }
                  },
                    "required": ["databaseId","connectionKey"]
                },
                "gxflow":{
                  "type": ["string", "null"],
                  "description": ""
                },
                "envs":{
                  "type":["array", "null"],
                  "description": "",
                  "items":{
                    "type":"object",
                    "properties": {
                      "name":{
                        "type":"string",
                        "description": ""
                      },
                      "value":{
                        "type":"string",
                        "description": ""
                      }
                    },
                  "required": ["name","value"],
                  "minItems": 1
                    }
                  }
              },
                "required": ["id","containerNode","port","url","automaticDeployment","envs","gxflow","gam","databaseId"],
                "minItems": 1
            }
          }
        },
          "required": ["name","nexusSecureUrl","credentialsId","deployments"],
          "minItems": 1
      }
    }
  },
  "required": ["name","deployType","onPrePackage","customSyncPath","customGXDProj","applicationServer","includeGAM","includeGXFlow","appUpdate","enableKBN","customDockerFile","urlSubdirectory","maintainers","dockerBaseImage","customImageName","onPostPackage","publishType","onPostSync"]
}